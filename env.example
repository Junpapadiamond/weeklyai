# WeeklyAI 环境变量配置
# 复制此文件为 .env 并填入实际值

# ============================================
# API Keys (必需)
# ============================================

# Perplexity API Key
PERPLEXITY_API_KEY=pplx-xxxxxxxxxxxxxxxxxxxx

# GLM (智谱) API Key - 中国区
ZHIPU_API_KEY=
GLM_MODEL=glm-4.7
# search_pro / search_pro_sogou / search_pro_quark / search_std
GLM_SEARCH_ENGINE=search_pro_quark
USE_GLM_FOR_CN=true

# ============================================
# 可选配置
# ============================================

# 时区 (默认: Asia/Shanghai)
TZ=Asia/Shanghai

# 社交信号抓取时间窗口（小时，启动期建议 96，稳定后可回调 48）
SOCIAL_HOURS=96

# 只保留指定年份的内容（默认: 当前年份；例如 2026）
CONTENT_YEAR=2026

# 社交内容关键词过滤窗口（只看每条内容前 N 字符，默认 800；用于减少长描述噪音）
SOCIAL_TEXT_WINDOW=800

# 信号词过滤窗口（只看标题 + 描述前 N 字符，默认 500；用于更严格的“发布/演示/开源/融资”信号）
SOCIAL_SIGNAL_WINDOW=500

# YouTube 频道订阅（逗号分隔 channel_id）
# 示例: YOUTUBE_CHANNEL_IDS=UCJIfeSCssxSC_Dhc5s7woww,UCNJ1Ymd5yFuUPtn21xtRbbw
YOUTUBE_CHANNEL_IDS=

# X/推特：每个 query 的搜索结果数上限（1-20，默认 20）
SOCIAL_X_MAX_RESULTS=20

# X/推特：可选语言过滤（逗号分隔；留空则不过滤）
# 示例: SOCIAL_X_LANGUAGES=en,zh,ja,ko
SOCIAL_X_LANGUAGES=

# X 来源模式：hybrid / perplexity_only / fallback_only
X_SOURCE_MODE=hybrid

# X fallback 账号列表（逗号分隔；设置后覆盖 crawler/data/source_watchlists.json）
# 示例: X_ACCOUNTS=OpenAI,OpenAIDevs,AnthropicAI
X_ACCOUNTS=

# X fallback 每个账号最多抓取状态条数（1-20）
X_FALLBACK_MAX_STATUS_PER_ACCOUNT=5

# X fallback 请求超时（秒）
X_FALLBACK_TIMEOUT=20

# Flask 环境 (development/production)
FLASK_ENV=production

# 后端 CORS 白名单（逗号分隔）
# 部署后填入你的前端域名，例如:
# CORS_ALLOWED_ORIGINS=https://weeklyai.vercel.app
CORS_ALLOWED_ORIGINS=

# Node 环境 (development/production)
NODE_ENV=production

# 数据路径 (Docker 中使用)
DATA_PATH=/data

# ============================================
# 部署配置 (如果使用 SSH 部署)
# ============================================

# SERVER_HOST=your-server.com
# SERVER_USER=deploy
# SERVER_SSH_KEY=<private_key_content>
